{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Synology Resource Schema",
    "description": "Defines a schema for Synology package resources",
    "type": "object",
    "properties": {
        "php": {
            "description": "Packages can carry custom php.ini and fpm.conf files. This worker installs / uninstalls these config files during package start / stop.",
            "type": "object",
            "properties": {
                "fpm-conf": {
                    "description": "Object array, list of fpm.conf files to install",
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "relpath": {
                                "type": "string"
                            }
                        }
                    }
                },
                "php-ini": {
                    "description": "Object array, list of php.ini files to install",
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "relpath": {
                                "type": "string"
                            }
                        }
                    }
                },
                "relpath": {
                    "description": "Target file's relative path under /var/packages/${package}/target/.",
                    "type": "string"
                }
            }
        },
        "port-config": {
            "description": "Install / uninstall service port config file during package install / uninstall.",
            "type": "object",
            "properties": {
                "protocol-file": {
                    "description": ".sc file's relative path under /var/package/{$package}/target/",
                    "type": "string"
                }
            }
        },
        "systemd-user-unit": {
            "additionalProperties": false,
            "default": {},
            "description": "The package framework would copy files at conf/systemd/pkguser-[customname] to home/.config/systemd/user/ on acquired and remove them on released.",
            "type": "object"
        },
        "syslog-config": {
            "description": "Install / uninstall the syslog-ng and logrotate config file during package start / stop.",
            "type": "object",
            "properties": {
                "patterndb-relpath": {
                    "description": "String, logrotate's config file's relative path under /var/packages/${package}/target/, ignore this if log is saved to database (optional)",
                    "type": "string"
                },
                "logrotate-relpath": {
                    "description": "String, syslog-ng's config file's relative path under /var/packages/${package}/target/, ignore this if the log is not generated by syslog-ng (optional)",
                    "type": "string"
                }
            }
        },
        "usr-local-linker": {
            "description": "Package's executables and library files should be installed to /usr/local. This worker link / unlink files to /usr/local/{bin,lib,etc} during package start / stop.",
            "properties": {
                "bin": {
                    "description": "String array, list of files to be linked under /usr/local/bin/.",
                    "type": "array"
                },
                "etc": {
                    "description": "String array, list of files to be linked under /usr/local/lib/.",
                    "type": "array"
                },
                "lib": {
                    "description": "String array, list of files to be linked under /usr/local/etc/",
                    "type": "array"
                },
                "relpath": {
                    "description": "String, target file's relative path under /var/packages/${package}/target/.",
                    "type": "string"
                }
            }
        }
    },
    "additionalProperties": false
}
